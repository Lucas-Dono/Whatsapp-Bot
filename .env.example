# ============================================
# CONFIGURACIÓN DEL BOT DE WHATSAPP
# ============================================
# Este archivo contiene todas las variables de entorno necesarias
# para ejecutar el bot de WhatsApp de Cervecería 6600.
#
# INSTRUCCIONES:
# 1. Copia este archivo y renómbralo a ".env"
# 2. Reemplaza los valores de ejemplo con tus credenciales reales
# 3. NUNCA subas el archivo .env a repositorios públicos
#
# ============================================

# ============================================
# OPENAI - REQUERIDO
# ============================================
# API Key de OpenAI para procesamiento de lenguaje natural
# Obtener en: https://platform.openai.com/api-keys
# El bot usa esto para generar respuestas inteligentes a los clientes
OPENAI_API_KEY=tu-api-key-de-openai

# ============================================
# GOOGLE SHEETS - REQUERIDO
# ============================================
# Credenciales de Google Service Account para almacenar datos
# Tutorial de configuración:
# 1. Ir a https://console.cloud.google.com
# 2. Crear un nuevo proyecto o seleccionar uno existente
# 3. Habilitar Google Sheets API
# 4. Crear Service Account en "IAM & Admin" > "Service Accounts"
# 5. Generar clave JSON y copiar el email y la private key aquí

# Email de la Service Account
GOOGLE_SERVICE_ACCOUNT_EMAIL=email@ejemplo.iam.gserviceaccount.com

# Private Key de la Service Account (debe incluir las comillas y \n)
# Ejemplo: "-----BEGIN PRIVATE KEY-----\nMIIEvQIBA...\n-----END PRIVATE KEY-----\n"
GOOGLE_SERVICE_ACCOUNT_KEY="-----BEGIN PRIVATE KEY-----\nTU_CLAVE_PRIVADA_AQUI\n-----END PRIVATE KEY-----\n"

# IDs de las hojas de Google Sheets
# Se encuentran en la URL de cada hoja:
# https://docs.google.com/spreadsheets/d/[ESTE_ES_EL_ID]/edit
# IMPORTANTE: Compartir cada hoja con el email de la Service Account (rol: Editor)

# Hoja para pedidos de fábrica
FACTORY_SPREADSHEET_ID=id-de-tu-hoja-fabrica

# Hoja para pedidos del bar
BAR_SPREADSHEET_ID=id-de-tu-hoja-bar

# Hoja para feedback y comentarios
FEEDBACK_SPREADSHEET_ID=id-de-tu-hoja-feedback

# ============================================
# SERVIDOR BACKEND
# ============================================
# Puerto donde se ejecutará el servidor Express del backend
# Valor por defecto: 3000
# Cambiar si el puerto 3000 está ocupado
PORT=3000

# ============================================
# SISTEMA DE ACTUALIZACIONES - OPCIONAL
# ============================================
# Servidor de actualizaciones remotas (sistema antiguo)
# Permite actualizar el bot sin acceso físico al servidor
# Puedes deshabilitarlo si no lo necesitas

# Clave secreta compartida entre servidor y cliente
# Debe ser la misma en ambos lados para autenticación
# Genera una clave segura aleatoria
UPDATE_SECRET_KEY=SdJkq5PvbTBs82AEt7VLyzNx9F4CwDG3

# Puerto del servidor de actualizaciones
# Valor por defecto: 5000
# Debe ser diferente al PORT principal
UPDATE_PORT=5000

# Deshabilitar completamente el servidor de actualizaciones
# true = deshabilitado, false = habilitado
# Útil si tienes conflicto de puertos o no necesitas actualizaciones remotas
DISABLE_UPDATE_SERVER=false

# ============================================
# NGROK - OPCIONAL
# ============================================
# Túnel para acceso externo al servidor de actualizaciones
# Requiere cuenta gratuita en https://ngrok.com

# Habilitar túnel Ngrok
# true = habilitado, false = deshabilitado
NGROK_ENABLED=true

# Token de autenticación de Ngrok
# Obtener en: https://dashboard.ngrok.com/get-started/your-authtoken
NGROK_AUTHTOKEN=tu-token-de-ngrok

# Región del servidor Ngrok
# Opciones: us (Estados Unidos), eu (Europa), ap (Asia-Pacífico), au (Australia), sa (Sudamérica), jp (Japón), in (India)
# Elige la región más cercana a ti para mejor rendimiento
NGROK_REGION=us

# ============================================
# NOTIFICACIONES
# ============================================
# Número de WhatsApp del desarrollador para recibir notificaciones
# Formato: [código país][número]@c.us
# Ejemplo para Argentina (+54 11 12345678): 541112345678@c.us
# Ejemplo para México (+52 55 12345678): 525512345678@c.us
# Sin espacios, guiones ni paréntesis
DEVELOPER_PHONE=541112345678@c.us

# ============================================
# ACTUALIZACIONES AUTOMÁTICAS VÍA GITHUB - OPCIONAL
# ============================================
# Sistema de auto-actualización desde repositorio GitHub (sistema nuevo)
# El bot verificará periódicamente si hay nuevas versiones y se actualizará automáticamente

# Habilitar actualizaciones automáticas desde GitHub
# true = habilitado, false = deshabilitado
ENABLE_GITHUB_UPDATES=true

# Repositorio de GitHub en formato: usuario/nombre-repo
# Ejemplo: cerveceria6600/whatsapp-bot
GITHUB_REPO=usuario/repositorio-cerveceria

# Rama del repositorio a seguir
# Generalmente 'main' o 'master'
# Puedes usar una rama de desarrollo si lo prefieres
GITHUB_BRANCH=main

# Intervalo de verificación en minutos
# Valor por defecto: 30 (cada 30 minutos)
# No recomendado menos de 10 minutos para evitar rate limiting de GitHub
CHECK_INTERVAL_MINUTES=30

# ============================================
# NOTAS ADICIONALES
# ============================================
#
# SEGURIDAD:
# - Nunca compartas este archivo con credenciales reales
# - Usa .gitignore para excluir .env de control de versiones
# - Rota las API keys periódicamente
# - Usa claves secretas fuertes y únicas
#
# SOLUCIÓN DE PROBLEMAS:
# - Si el bot no inicia, verifica que todas las variables REQUERIDAS estén configuradas
# - Si hay error de puerto en uso, cambia PORT o UPDATE_PORT
# - Si no se conecta a Google Sheets, verifica que compartiste las hojas con la Service Account
# - Para más ayuda, consulta README.md o INSTRUCCIONES_DESARROLLADOR.md
#
# ============================================
